(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"1QnK":function(l,e,n){"use strict";n.r(e);var t=n("8Y7J");class o{}var i=n("pMnS"),a=n("oBZk"),r=n("ZZ/e"),u=n("s7LF"),s=n("SVse"),h=n("mrSG"),p=function(){function l(l,e,n){this.googleChartsVersion=e,this.mapsApiKey=n,this.googleScriptLoadingNotifier=new t.m,this.googleScriptIsLoading=!1,this.localeId=l,null===this.googleChartsVersion&&(this.googleChartsVersion="46")}return l.prototype.load=function(l){var e=this;return new Promise(function(n,t){void 0===n&&(n=Function.prototype),void 0===t&&(t=Function.prototype),e.loadGoogleChartsScript().then(function(){var t={language:e.localeId,callback:n,packages:l};e.mapsApiKey&&(t.mapsApiKey=e.mapsApiKey),google.charts.load(e.googleChartsVersion,t)}).catch(function(l){return t()})})},l.prototype.loadGoogleChartsScript=function(){var l=this;return new Promise(function(e,n){if(void 0===e&&(e=Function.prototype),void 0===n&&(n=Function.prototype),"undefined"!=typeof google&&google.charts)e();else if(l.googleScriptIsLoading)l.googleScriptLoadingNotifier.subscribe(function(l){l?e():n()});else{l.googleScriptIsLoading=!0;var t=document.createElement("script");t.type="text/javascript",t.src="https://www.gstatic.com/charts/loader.js",t.async=!0,t.defer=!0,t.onload=function(){l.googleScriptIsLoading=!1,l.googleScriptLoadingNotifier.emit(!0),e()},t.onerror=function(){l.googleScriptIsLoading=!1,l.googleScriptLoadingNotifier.emit(!1),n()},document.getElementsByTagName("head")[0].appendChild(t)}})},l}(),c=function(){function l(l){this.tooltipDOMElement=l}return l.prototype.setPosition=function(e,n){this.tooltipDOMElement.nativeElement.style.left=e+l.PIXELS,this.tooltipDOMElement.nativeElement.style.top=n+l.PIXELS},l.prototype.getDOMElement=function(){return this.tooltipDOMElement},l.PIXELS="px",l}(),d=function(){function l(l,e){var n=this;this.mouseOverListener=function(l){var e=n.parseMouseEvent(l);return e.tooltip=n.getHTMLTooltip(),e},this.mouseOutListener=function(l){return n.parseMouseEvent(l)},this.selectListener=function(){var l={message:"select",row:null,column:null,selectedRowValues:[],selectedRowFormattedValues:[],columnLabel:""},e=n.wrapper.visualization.getSelection(),t=e[e.length-1];if(!t)return l.message="deselect",l;var o=t;if(null!=t.row){l.row=o.row;for(var i=[],a=[],r=n.wrapper.getDataTable(),u=r.getNumberOfColumns(),s=0;s<u;s++)i.push(r.getValue(o.row,s)),a.push(r.getFormattedValue(o.row,s));l.selectedRowValues=i,l.selectedRowFormattedValues=a}return null!=o.column&&(l.column=o.column,l.columnLabel=n.getColumnLabelAtPosition(o)),t.name&&(l.columnLabel=t.name),l},this.el=l,this.loaderService=e,this.chartSelect=new t.m,this.chartSelectOneTime=new t.m,this.chartReady=new t.m,this.chartReadyOneTime=new t.m,this.chartError=new t.m,this.chartErrorOneTime=new t.m,this.mouseOver=new t.m,this.mouseOverOneTime=new t.m,this.mouseOut=new t.m,this.mouseOutOneTime=new t.m}return l.prototype.ngOnChanges=function(l){var e=this;if(l.data){if(!this.data)return;this.options=this.data.options,this.options||(this.options={}),this.data.component=this,this.loaderService.load().then(function(){void 0!==e.wrapper&&e.wrapper.getChartType()===e.data.chartType||(e.convertOptions(),e.data.opt_firstRowIsData&&Array.isArray(e.data.dataTable)&&(e.data.dataTable=google.visualization.arrayToDataTable(e.data.dataTable,!0)),e.wrapper=new google.visualization.ChartWrapper(e.data),e.registerChartWrapperEvents()),e.draw()})}},l.prototype.draw=function(){this.wrapper.setDataTable(this.data.dataTable),this.convertOptions(),this.wrapper.setOptions(this.options),this.reformat(),this.wrapper.draw(this.el.nativeElement.querySelector("div"))},l.prototype.reformat=function(){if(this.data&&void 0!==this.data.formatters)for(var l=0,e=this.data.formatters;l<e.length;l++){var n=e[l],t=google.visualization[n.type],o=n.options,i=new t(o);if("ColorFormat"===n.type&&o)for(var a=0,r=o.ranges;a<r.length;a++){var u=r[a];void 0!==u.fromBgColor&&void 0!==u.toBgColor?i.addGradientRange(u.from,u.to,u.color,u.fromBgColor,u.toBgColor):i.addRange(u.from,u.to,u.color,u.bgcolor)}for(var s=this.wrapper.getDataTable(),h=0,p=n.columns;h<p.length;h++)i.format(s,p[h])}},l.prototype.getSelectorBySeriesType=function(l){return{bars:"bar#%s#%r",haxis:"hAxis#0#label",line:"point#%s#%r",legend:"legendentry#%s",area:"point#%s#%r"}[l]},l.prototype.getSeriesByColumn=function(l){for(var e=0,n=this.wrapper.getDataTable(),t=l-1;t>=0;t--){var o=n.getColumnRole(t),i=n.getColumnType(t);"data"!==o&&"number"!==i||e++}return e},l.prototype.getBoundingBoxForItem=function(l){var e={top:0,left:0,width:0,height:0};if(this.cli){var n=l.column,t=this.getSeriesByColumn(n),o=l.row,i=this.options.seriesType;if(this.options.series&&this.options.series[t]&&this.options.series[t].type&&(i=this.options.series[t].type),i){var a=this.getSelectorBySeriesType(i);if(a){a=a.replace("%s",t+"").replace("%c",n+"").replace("%r",o+"");var r=this.cli.getBoundingBox(a);r&&(e=r)}}}return e},l.prototype.getValueAtPosition=function(l){return null==l.row?null:this.wrapper.getDataTable().getValue(l.row,l.column)},l.prototype.getColumnTypeAtPosition=function(l){return this.wrapper.getDataTable().getColumnType(l.column)||""},l.prototype.getColumnLabelAtPosition=function(l){return this.wrapper.getDataTable().getColumnLabel(l.column)||""},l.prototype.getHTMLTooltip=function(){var l=new t.k(this.el.nativeElement.querySelector(".google-visualization-tooltip"));return new c(l)},l.prototype.parseMouseEvent=function(l){var e=this.wrapper.getChartType(),n=l.column;if(null==n)switch(e){case"Timeline":n=3===this.wrapper.getDataTable().getNumberOfColumns()?0:1;break;default:n=0}var t={row:l.row,column:n};return{position:l,boundingBox:this.getBoundingBoxForItem(t),value:this.getValueAtPosition(t),columnType:this.getColumnTypeAtPosition(t),columnLabel:this.getColumnLabelAtPosition(t)}},l.prototype.unregisterEvents=function(){google.visualization.events.removeAllListeners(this.wrapper.getChart()),google.visualization.events.removeAllListeners(this.wrapper)},l.prototype.registerChartEvents=function(){var l=this,e=this.wrapper.getChart();this.cli=e.getChartLayoutInterface?e.getChartLayoutInterface():null,this.mouseOver.observers.length>0&&google.visualization.events.addListener(e,"onmouseover",function(e){var n=l.parseMouseEvent(e);n.tooltip=l.getHTMLTooltip(),l.mouseOver.emit(n)}),this.mouseOverOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseover",function(e){var n=l.parseMouseEvent(e);n.tooltip=l.getHTMLTooltip(),l.mouseOverOneTime.emit(n)}),this.mouseOut.observers.length>0&&google.visualization.events.addListener(e,"onmouseout",function(e){var n=l.parseMouseEvent(e);l.mouseOut.emit(n)}),this.mouseOutOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseout",function(e){var n=l.parseMouseEvent(e);l.mouseOutOneTime.emit(n)})},l.prototype.registerChartWrapperEvents=function(){var l=this;google.visualization.events.addListener(this.wrapper,"ready",function(){l.chartReady.emit({message:"Chart ready"})}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",function(){l.chartReadyOneTime.emit({message:"Chart ready (one time)"}),l.registerChartEvents()}),google.visualization.events.addListener(this.wrapper,"error",function(e){l.chartError.emit(e)}),google.visualization.events.addOneTimeListener(this.wrapper,"error",function(e){l.chartErrorOneTime.emit(e)}),this.addListener(this.wrapper,"select",this.selectListener,this.chartSelect),this.addOneTimeListener(this.wrapper,"select",this.selectListener,this.chartSelectOneTime)},l.prototype.addListener=function(l,e,n,t){google.visualization.events.addListener(l,e,function(){t.emit(n())})},l.prototype.addOneTimeListener=function(l,e,n,t){google.visualization.events.addOneTimeListener(l,e,function(){t.emit(n())})},l.prototype.convertOptions=function(){try{this.options=google.charts[this.data.chartType].convertOptions(this.options)}catch(l){return}},l}(),g=t.ob({encapsulation:2,styles:[],data:{}});function b(l){return t.Hb(2,[(l()(),t.qb(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}var m=n("dKRk");class f{constructor(l,e){this.apiJai=l,this.loadingController=e,this.dates=[],this.locations=[],this.trabalhos=[],this.trabalhosFiltered=[],this.loading=null}ngOnInit(){this.presentLoading(),this.updateDays()}presentLoading(){return h.b(this,void 0,void 0,function*(){this.loading=yield this.loadingController.create({message:"Carregando..."}),yield this.loading.present()})}updateDays(){this.apiJai.getDays().then(l=>{console.log(l),l&&(this.dates=l,this.dateModel=this.dates[0],this.updateTrabalhos())},l=>{console.log(l)})}updateTrabalhos(){this.apiJai.getValuesByDay(this.dateModel).then(l=>{this.locations=l.map(l=>l[9]).filter((l,e,n)=>n.indexOf(l)===e).sort(),this.trabalhos=l,this.filterTrabalhos()})}filterTrabalhos(){this.trabalhosFiltered=[...this.trabalhos],this.locationModel&&(this.trabalhosFiltered=this.trabalhosFiltered.filter(l=>l[9]===this.locationModel)),this.loadChart()}clearFilter(){this.locationModel=null,this.trabalhosFiltered=[...this.trabalhos]}loadChart(){this.apiJai.getAvaliacoes().then(l=>{this.apiJai.getCheck().then(e=>{let n=0,t=0,o=0;this.trabalhosFiltered.map(i=>{l.findIndex(l=>l[0]===i[2])>-1?n+=1:e.findIndex(l=>l[0]===i[1])>-1?o+=1:t+=1}),this.trabalhosChart={chartType:"PieChart",dataTable:[["Estado","Trabalhos"],["Avaliado",n],["N\xe3o Avaliado",t],["Em Andamento",o]],options:{width:380,colors:["#32CD32","#FF0000","#FFA500"]}};const i=this.trabalhosFiltered.map(l=>l[1]).filter((l,e,n)=>n.indexOf(l)===e),a=e.filter((l,e,n)=>l[2]===this.dateModel&&n.findIndex(e=>e[2]===l[2])>-1).map(l=>l[0]).filter((l,e,n)=>n.indexOf(l)===e),r=i.length;let u=0;console.log(i),console.log("avaliadores presentes"+a),a.map(l=>{i.indexOf(l)>-1&&(u+=1)}),this.avaliadoresChart={chartType:"PieChart",dataTable:[["Check-in","Avaliadores"],["Efetuado",u],["N\xe3o Efetuado",r-u]],options:{width:380,colors:["#32CD32","#FF0000"]}},this.loading&&this.loading.dismiss()})})}}var v=t.ob({encapsulation:0,styles:[[""]],data:{}});function C(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,2,"ion-select-option",[],null,null,null,a.J,a.p)),t.pb(1,49152,null,0,r.lb,[t.h,t.k,t.x],{value:[0,"value"]},null),(l()(),t.Gb(2,0,["",""]))],function(l,e){l(e,1,0,t.ub(1,"",e.context.$implicit,""))},function(l,e){l(e,2,0,e.context.$implicit)})}function y(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,2,"ion-select-option",[],null,null,null,a.J,a.p)),t.pb(1,49152,null,0,r.lb,[t.h,t.k,t.x],{value:[0,"value"]},null),(l()(),t.Gb(2,0,["",""]))],function(l,e){l(e,1,0,t.ub(1,"",e.context.$implicit,""))},function(l,e){l(e,2,0,e.context.$implicit)})}function w(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,6,"ion-header",[],null,null,null,a.D,a.i)),t.pb(1,49152,null,0,r.z,[t.h,t.k,t.x],null,null),(l()(),t.qb(2,0,null,0,4,"ion-toolbar",[["color","primary"]],null,null,null,a.P,a.u)),t.pb(3,49152,null,0,r.zb,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(4,0,null,0,2,"ion-title",[],null,null,null,a.O,a.t)),t.pb(5,49152,null,0,r.xb,[t.h,t.k,t.x],null,null),(l()(),t.Gb(-1,0,["Gr\xe1ficos"])),(l()(),t.qb(7,0,null,null,57,"ion-content",[],null,null,null,a.C,a.h)),t.pb(8,49152,null,0,r.s,[t.h,t.k,t.x],null,null),(l()(),t.qb(9,0,null,0,33,"div",[["class","ion-padding"]],null,null,null,null,null)),(l()(),t.qb(10,0,null,null,29,"ion-list",[],null,null,null,a.H,a.m)),t.pb(11,49152,null,0,r.M,[t.h,t.k,t.x],null,null),(l()(),t.qb(12,0,null,0,13,"ion-item",[],null,null,null,a.F,a.k)),t.pb(13,49152,null,0,r.F,[t.h,t.k,t.x],null,null),(l()(),t.qb(14,0,null,0,2,"ion-label",[],null,null,null,a.G,a.l)),t.pb(15,49152,null,0,r.L,[t.h,t.k,t.x],null,null),(l()(),t.Gb(-1,0,["Data"])),(l()(),t.qb(17,0,null,0,8,"ion-select",[["placeholder","Selecione uma data"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(l,e,n){var o=!0,i=l.component;return"ionBlur"===e&&(o=!1!==t.Cb(l,18)._handleBlurEvent(n.target)&&o),"ionChange"===e&&(o=!1!==t.Cb(l,18)._handleChangeEvent(n.target)&&o),"ngModelChange"===e&&(o=!1!==(i.dateModel=n)&&o),"ionChange"===e&&(o=!1!==i.updateTrabalhos()&&o),o},a.K,a.o)),t.pb(18,16384,null,0,r.Ib,[t.k],null,null),t.Db(1024,null,u.b,function(l){return[l]},[r.Ib]),t.pb(20,671744,null,0,u.e,[[8,null],[8,null],[8,null],[6,u.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Db(2048,null,u.c,null,[u.e]),t.pb(22,16384,null,0,u.d,[[4,u.c]],null,null),t.pb(23,49152,null,0,r.kb,[t.h,t.k,t.x],{placeholder:[0,"placeholder"]},null),(l()(),t.fb(16777216,null,0,1,null,C)),t.pb(25,278528,null,0,s.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.qb(26,0,null,0,13,"ion-item",[],null,null,null,a.F,a.k)),t.pb(27,49152,null,0,r.F,[t.h,t.k,t.x],null,null),(l()(),t.qb(28,0,null,0,2,"ion-label",[],null,null,null,a.G,a.l)),t.pb(29,49152,null,0,r.L,[t.h,t.k,t.x],null,null),(l()(),t.Gb(-1,0,["Local"])),(l()(),t.qb(31,0,null,0,8,"ion-select",[["placeholder","Selecione um local"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(l,e,n){var o=!0,i=l.component;return"ionBlur"===e&&(o=!1!==t.Cb(l,32)._handleBlurEvent(n.target)&&o),"ionChange"===e&&(o=!1!==t.Cb(l,32)._handleChangeEvent(n.target)&&o),"ngModelChange"===e&&(o=!1!==(i.locationModel=n)&&o),"ionChange"===e&&(o=!1!==i.filterTrabalhos()&&o),o},a.K,a.o)),t.pb(32,16384,null,0,r.Ib,[t.k],null,null),t.Db(1024,null,u.b,function(l){return[l]},[r.Ib]),t.pb(34,671744,null,0,u.e,[[8,null],[8,null],[8,null],[6,u.b]],{model:[0,"model"]},{update:"ngModelChange"}),t.Db(2048,null,u.c,null,[u.e]),t.pb(36,16384,null,0,u.d,[[4,u.c]],null,null),t.pb(37,49152,null,0,r.kb,[t.h,t.k,t.x],{placeholder:[0,"placeholder"]},null),(l()(),t.fb(16777216,null,0,1,null,y)),t.pb(39,278528,null,0,s.h,[t.L,t.I,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.qb(40,0,null,null,2,"ion-button",[["color","primary"],["expand","block"]],null,[[null,"click"]],function(l,e,n){var t=!0;return"click"===e&&(t=!1!==l.component.clearFilter()&&t),t},a.w,a.b)),t.pb(41,49152,null,0,r.i,[t.h,t.k,t.x],{color:[0,"color"],expand:[1,"expand"]},null),(l()(),t.Gb(-1,0,["Limpar filtro"])),(l()(),t.qb(43,0,null,0,10,"ion-card",[["class","welcome-card"]],null,null,null,a.B,a.d)),t.pb(44,49152,null,0,r.k,[t.h,t.k,t.x],null,null),(l()(),t.qb(45,0,null,0,4,"ion-card-header",[],null,null,null,a.z,a.f)),t.pb(46,49152,null,0,r.m,[t.h,t.k,t.x],null,null),(l()(),t.qb(47,0,null,0,2,"ion-card-title",[],null,null,null,a.A,a.g)),t.pb(48,49152,null,0,r.o,[t.h,t.k,t.x],null,null),(l()(),t.Gb(-1,0,["Trabalhos Avaliados"])),(l()(),t.qb(50,0,null,0,3,"ion-card-content",[],null,null,null,a.y,a.e)),t.pb(51,49152,null,0,r.l,[t.h,t.k,t.x],null,null),(l()(),t.qb(52,0,null,0,1,"google-chart",[],null,null,null,b,g)),t.pb(53,573440,null,0,d,[t.k,p],{data:[0,"data"]},null),(l()(),t.qb(54,0,null,0,10,"ion-card",[["class","welcome-card"]],null,null,null,a.B,a.d)),t.pb(55,49152,null,0,r.k,[t.h,t.k,t.x],null,null),(l()(),t.qb(56,0,null,0,4,"ion-card-header",[],null,null,null,a.z,a.f)),t.pb(57,49152,null,0,r.m,[t.h,t.k,t.x],null,null),(l()(),t.qb(58,0,null,0,2,"ion-card-title",[],null,null,null,a.A,a.g)),t.pb(59,49152,null,0,r.o,[t.h,t.k,t.x],null,null),(l()(),t.Gb(-1,0,["Check-in Avaliadores"])),(l()(),t.qb(61,0,null,0,3,"ion-card-content",[],null,null,null,a.y,a.e)),t.pb(62,49152,null,0,r.l,[t.h,t.k,t.x],null,null),(l()(),t.qb(63,0,null,0,1,"google-chart",[],null,null,null,b,g)),t.pb(64,573440,null,0,d,[t.k,p],{data:[0,"data"]},null)],function(l,e){var n=e.component;l(e,3,0,"primary"),l(e,20,0,n.dateModel),l(e,23,0,"Selecione uma data"),l(e,25,0,n.dates),l(e,34,0,n.locationModel),l(e,37,0,"Selecione um local"),l(e,39,0,n.locations),l(e,41,0,"primary","block"),l(e,53,0,n.trabalhosChart),l(e,64,0,n.avaliadoresChart)},function(l,e){l(e,17,0,t.Cb(e,22).ngClassUntouched,t.Cb(e,22).ngClassTouched,t.Cb(e,22).ngClassPristine,t.Cb(e,22).ngClassDirty,t.Cb(e,22).ngClassValid,t.Cb(e,22).ngClassInvalid,t.Cb(e,22).ngClassPending),l(e,31,0,t.Cb(e,36).ngClassUntouched,t.Cb(e,36).ngClassTouched,t.Cb(e,36).ngClassPristine,t.Cb(e,36).ngClassDirty,t.Cb(e,36).ngClassValid,t.Cb(e,36).ngClassInvalid,t.Cb(e,36).ngClassPending)})}function T(l){return t.Hb(0,[(l()(),t.qb(0,0,null,null,1,"app-graficos",[],null,null,null,w,v)),t.pb(1,114688,null,0,f,[m.a,r.Db],null,null)],function(l,e){l(e,1,0)},null)}var L=t.mb("app-graficos",f,T,{},{},[]),O=n("iInd"),k=function(){return function(){}}();n.d(e,"GraficosPageModuleNgFactory",function(){return x});var x=t.nb(o,[],function(l){return t.zb([t.Ab(512,t.j,t.Y,[[8,[i.a,L]],[3,t.j],t.v]),t.Ab(4608,s.k,s.j,[t.s,[2,s.q]]),t.Ab(4608,u.g,u.g,[]),t.Ab(4608,r.b,r.b,[t.x,t.g]),t.Ab(4608,r.Eb,r.Eb,[r.b,t.j,t.p]),t.Ab(4608,r.Hb,r.Hb,[r.b,t.j,t.p]),t.Ab(4608,p,p,[t.s,[2,"googleChartsVersion"],[2,"mapsApiKey"]]),t.Ab(1073742336,s.b,s.b,[]),t.Ab(1073742336,u.f,u.f,[]),t.Ab(1073742336,u.a,u.a,[]),t.Ab(1073742336,r.Bb,r.Bb,[]),t.Ab(1073742336,O.n,O.n,[[2,O.s],[2,O.m]]),t.Ab(1073742336,k,k,[]),t.Ab(1073742336,o,o,[]),t.Ab(1024,O.k,function(){return[[{path:"",component:f}]]},[])])})}}]);